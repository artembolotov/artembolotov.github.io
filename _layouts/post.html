---
layout: default
---

<div>
  {% include tag-menu.html active_tag="" %}

  <article class="post">
    <h1 class="post-title">{{ page.title }}</h1>
    <time datetime="{{ page.date | date_to_xmlschema }}">
      {% assign m = page.date | date: "%-m" | minus: 1 %}
      {% assign months = "января,февраля,марта,апреля,мая,июня,июля,августа,сентября,октября,ноября,декабря" | split: "," %}
      {{ page.date | date: "%-d" }} {{ months[m] }} {{ page.date | date: "%Y" }}
    </time>

    {% include reading-time.html content=content %}
  </article>
</div>

{{ content | replace: '<hr />', '<div><hr /></div>' }}

<div>
  {% if page.tags %}
  <div class="post-tags">
    {% for post_tag in page.tags %}
      {% include tag-translations.html tag=post_tag %}
      <a href="/blog/{{ post_tag | slugify | downcase }}/" class="tag">#{{ tag_label }}</a>
    {% endfor %}
  </div>
  {% endif %}

  {% include author-footer.html %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  let lastValidScrollY = 0;
  
  // Эксперимент с блокировкой через событие scroll
  window.addEventListener('scroll', function(e) {
    const centerY = window.innerHeight / 2 + window.scrollY;
    
    if (centerY > 4000) {
      console.log('Scroll blocked! Returning to:', lastValidScrollY);
      e.preventDefault();
      e.stopPropagation();
      e.stopImmediatePropagation();
    } else {
      lastValidScrollY = window.scrollY;
    }
  }, { passive: false });
  
  // Wheel для отладки
  document.addEventListener('wheel', function(e) {
    const centerY = window.innerHeight / 2 + window.scrollY;
    console.log('PAGE wheel:', e.deltaY, 'Center Y:', Math.round(centerY));
  });
  
  console.log('Found galleries:', galleries.length);
});
</script>